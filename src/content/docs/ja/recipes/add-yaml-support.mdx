---
title: ViteまたはRollupプラグインをインストールする
description: プロジェクトにRollupプラグインを追加することでYAMLデータをインポートする方法を学びます。
i18nReady: true
type: recipe
---

Astro は Vite の上に構築され、Vite と Rollup の両方のプラグインをサポートしています。このレシピでは Rollup プラグインを使用して、Astro に YAML (`.yml`) ファイルをインポートする機能を追加します。

## レシピ

1. `rollup/plugin-yaml`をインストールします。

    ```bash
    npm install @rollup/plugin-yaml --save-dev
    ```

2. プラグインを `astro.config.mjs` にインポートし、Vite plugins 配列に追加します。

    ```js title="astro.config.mjs" ins={2,5-7}
    import { defineConfig } from 'astro/config';
    import yaml from '@rollup/plugin-yaml';

    export default defineConfig({
      vite: {
        plugins: [yaml()]
      }
    });
    ```


3. 最後に、YAML データをインポートするには `import` ステートメントを使います。

    ```js
    import yml from './data.yml';
    ```

    :::note
    Astro プロジェクトで YAML データをインポートできるようになりましたが、エディタはインポートしたデータの型を提供しません。型を追加するには、プロジェクトの `src` ディレクトリに `*.d.ts` ファイルを作成するか、既存のファイルを見つけて、以下を追加します。
    ```ts title="src/files.d.ts"
    // Specify the file extension you want to import
    declare module "*.yml" {
      const value: any; // Add type definitions here if desired
      export default value;
    }
    ```
    これでエディターがYAMLデータの型ヒントを提供できるようになります。
    :::
